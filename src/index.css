@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-cyber-primary: oklch(0.8 0.3 142);
  --color-cyber-primary-dim: oklch(0.8 0.3 142 / 0.4);
  --color-cyber-dark: #0a0a0a;
  --color-cyber-darker: #050505;
  --color-cyber-panel: #0d1117;
  --color-cyber-panel-light: #161b22;
  --color-cyber-border: oklch(0.8 0.3 142 / 0.2);
  --color-cyber-border-bright: oklch(0.8 0.3 142 / 0.53);
  --color-cyber-accent: #00fff2;
  --color-cyber-accent-dim: oklch(0.75 0.15 195 / 0.4);
  --color-cyber-warning: #ffb800;
  --color-cyber-danger: #ff0040;
  --color-cyber-danger-dim: oklch(0.55 0.25 15 / 0.4);
  --color-cyber-success: oklch(0.8 0.3 142);
  --color-cyber-muted: #4a5568;
  --color-cyber-text: #b8c4d0;
  --color-cyber-text-bright: #e2e8f0;

  --shadow-neon: 0 0 5px #39ff14, 0 0 20px oklch(0.8 0.3 142 / 0.2);
  --shadow-neon-sm: 0 0 3px #39ff14, 0 0 10px oklch(0.8 0.3 142 / 0.2);
  --shadow-neon-lg:
    0 0 10px #39ff14, 0 0 40px oklch(0.8 0.3 142 / 0.2),
    0 0 80px oklch(0.8 0.3 142 / 0.13);
  --shadow-neon-accent: 0 0 5px #00fff2, 0 0 20px oklch(0.75 0.15 195 / 0.2);
  --shadow-neon-danger: 0 0 5px #ff0040, 0 0 20px oklch(0.55 0.25 15 / 0.2);
  --shadow-neon-warning: 0 0 5px #ffb800, 0 0 20px oklch(0.75 0.18 75 / 0.2);
  --shadow-neon-inset: inset 0 0 10px oklch(0.8 0.3 142 / 0.13);

  --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;
  --animate-scanline: scanline 8s linear infinite;
  --animate-flicker: flicker 3s infinite;

  @keyframes pulse-glow {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }
  @keyframes scanline {
    0% {
      transform: translateY(-100%);
    }
    100% {
      transform: translateY(100%);
    }
  }
  @keyframes flicker {
    0%,
    100% {
      opacity: 1;
    }
    92% {
      opacity: 1;
    }
    93% {
      opacity: 0.8;
    }
    94% {
      opacity: 1;
    }
    96% {
      opacity: 0.9;
    }
    98% {
      opacity: 1;
    }
  }
}

/* Light theme overrides */
.light {
  --color-cyber-primary: #16a34a;
  --color-cyber-primary-dim: oklch(0.55 0.17 150 / 0.27);
  --color-cyber-dark: #e5e7eb;
  --color-cyber-darker: #f3f4f6;
  --color-cyber-panel: #dfe3e8;
  --color-cyber-panel-light: #d1d5db;
  --color-cyber-border: #d1d5db;
  --color-cyber-border-bright: #9ca3af;
  --color-cyber-accent: #0891b2;
  --color-cyber-accent-dim: oklch(0.55 0.12 220 / 0.27);
  --color-cyber-warning: #d97706;
  --color-cyber-danger: #dc2626;
  --color-cyber-danger-dim: oklch(0.5 0.2 25 / 0.27);
  --color-cyber-success: #16a34a;
  --color-cyber-muted: #9ca3af;
  --color-cyber-text: #374151;
  --color-cyber-text-bright: #111827;

  --shadow-neon: 0 1px 3px rgb(0 0 0 / 0.1), 0 1px 2px rgb(0 0 0 / 0.06);
  --shadow-neon-sm: 0 1px 2px rgb(0 0 0 / 0.05);
  --shadow-neon-lg: 0 4px 6px rgb(0 0 0 / 0.1), 0 2px 4px rgb(0 0 0 / 0.06);
  --shadow-neon-accent: 0 1px 3px rgb(0 0 0 / 0.1);
  --shadow-neon-danger: 0 1px 3px rgb(220 38 38 / 0.2);
  --shadow-neon-warning: 0 1px 3px rgb(217 119 6 / 0.2);
  --shadow-neon-inset: inset 0 1px 2px rgb(0 0 0 / 0.05);
}

:root {
  font-family: "Source Code Pro", monospace;
  font-size: 15px;
  background-color: var(--color-cyber-darker);
  color: var(--color-cyber-text);
}

html,
body {
  margin: 0;
}

/* Subtle scanline overlay on body (hidden in light mode) */
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(57, 255, 20, 0.015) 2px,
    rgba(57, 255, 20, 0.015) 4px
  );
}

.light body::after,
body:has(.light)::after {
  display: none;
}

h1 {
  font-size: var(--text-2xl);
  font-weight: var(--font-weight-medium);
  margin-block: 0.5rem;
  color: var(--color-cyber-primary);
}

h2 {
  font-size: var(--text-xl);
  font-weight: var(--font-weight-medium);
  margin-block: 0.5rem;
  color: var(--color-cyber-primary);
}

h3 {
  font-size: var(--text-lg);
  font-weight: var(--font-weight-medium);
  margin-block: 0.5rem;
  color: var(--color-cyber-text-bright);
}

a {
  text-decoration: none;
  color: var(--color-cyber-accent);
  transition: color 0.15s;
}

a:hover {
  text-decoration: none;
  color: var(--color-cyber-primary);
}

:root:not(.light) a:hover {
  text-shadow: 0 0 8px oklch(0.8 0.3 142 / 0.4);
}

hr {
  border-color: var(--color-cyber-border);
}

input:not([type="range"]):not([type="checkbox"]),
textarea,
select {
  border: 1px solid var(--color-cyber-border);
  border-radius: var(--radius-sm);
  background-color: var(--color-cyber-panel);
  padding: 0.5rem;
  color: var(--color-cyber-text);
  outline: 2px solid transparent;
  transition: all 0.15s;
}

input:not([type="range"]):not([type="checkbox"]):focus,
textarea:focus,
select:focus {
  border-color: var(--color-cyber-primary);
  box-shadow: var(--shadow-neon-sm);
}

input:disabled {
  color: var(--color-cyber-muted);
  opacity: 0.5;
}

/* Custom range input styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
  box-shadow: none;
  height: 24px;
  cursor: pointer;
  outline: none;
}

input[type="range"]:focus {
  outline: none;
  box-shadow: none;
  border: none;
}

input[type="range"]::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  border-radius: 3px;
  background: var(--color-cyber-primary-dim);
  border: 1px solid var(--color-cyber-border-bright);
  box-shadow: var(--shadow-neon-sm);
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-cyber-primary);
  cursor: pointer;
  border: 2px solid var(--color-cyber-primary);
  box-shadow: var(--shadow-neon);
  margin-top: -9px;
}

input[type="range"]::-moz-range-track {
  height: 6px;
  border-radius: 3px;
  background: var(--color-cyber-primary-dim);
  border: 1px solid var(--color-cyber-border-bright);
  box-shadow: var(--shadow-neon-sm);
}

input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--color-cyber-primary);
  cursor: pointer;
  border: 2px solid var(--color-cyber-primary);
  box-shadow: var(--shadow-neon);
}

input[type="range"]::-moz-range-progress {
  background: var(--color-cyber-primary);
  height: 6px;
  border-radius: 3px;
}

/* Checkbox styling */
input[type="checkbox"] {
  appearance: none;
  width: 1rem;
  height: 1rem;
  border: 1px solid var(--color-cyber-border);
  border-radius: var(--radius-xs);
  background-color: var(--color-cyber-panel);
  cursor: pointer;
}

input[type="checkbox"]:checked {
  background-color: var(--color-cyber-primary);
  border-color: var(--color-cyber-primary);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--color-cyber-darker);
}

::-webkit-scrollbar-thumb {
  background: var(--color-cyber-border-bright);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-cyber-primary);
}

/* Selection styling */
::selection {
  background: var(--color-cyber-primary-dim);
  color: var(--color-cyber-primary);
}

/* Table styling */
table {
  width: 100%;
}

th {
  color: var(--color-cyber-primary);
  font-size: var(--text-sm);
  font-weight: var(--font-weight-medium);
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid var(--color-cyber-border);
}

td {
  padding: 0.75rem;
  font-size: var(--text-sm);
  border-bottom: 1px solid
    color-mix(in srgb, var(--color-cyber-border) 30%, transparent);
}

tr:hover td {
  background-color: color-mix(
    in srgb,
    var(--color-cyber-panel-light) 50%,
    transparent
  );
}

/* Preserve cursor pointer on buttons */
@layer base {
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}
